(function(t){function e(e){for(var i,a,o=e[0],p=e[1],u=e[2],l=0,c=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&c.push(s[a][0]),s[a]=0;for(i in p)Object.prototype.hasOwnProperty.call(p,i)&&(t[i]=p[i]);d&&d(e);while(c.length)c.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],i=!0,o=1;o<r.length;o++){var p=r[o];0!==s[p]&&(i=!1)}i&&(n.splice(e--,1),t=a(a.s=r[0]))}return t}var i={},s={app:0},n=[];function a(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=i,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(r,i,function(e){return t[e]}.bind(null,i));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],p=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var d=p;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0d1a":function(t,e,r){"use strict";r("b779")},"285b":function(t,e,r){var i={"./ar":"8b23","./ar.js":"8b23","./az":"0fd6","./az.js":"0fd6","./be":"a1de","./be.js":"a1de","./bg":"102b","./bg.js":"102b","./bs":"d1c3","./bs.js":"d1c3","./ca":"1b37","./ca.js":"1b37","./cs":"8981","./cs.js":"8981","./cy":"3ced","./cy.js":"3ced","./da":"7f8d","./da.js":"7f8d","./de":"be39","./de.js":"be39","./el":"1866","./el.js":"1866","./en":"6788","./en.js":"6788","./es":"8b4b","./es.js":"8b4b","./et":"df57","./et.js":"df57","./eu":"b9bc","./eu.js":"b9bc","./fa":"83c4","./fa.js":"83c4","./fi":"1137","./fi.js":"1137","./fr":"2849","./fr.js":"2849","./hr":"2e0c","./hr.js":"2e0c","./hu":"62a6","./hu.js":"62a6","./id":"7fc0","./id.js":"7fc0","./it":"d6e0","./it.js":"d6e0","./ja":"7d74","./ja.js":"7d74","./ka":"14c9","./ka.js":"14c9","./ko":"58ac","./ko.js":"58ac","./lt":"845c","./lt.js":"845c","./lv":"c6c3","./lv.js":"c6c3","./mk":"9fc9","./mk.js":"9fc9","./mn":"a3d2","./mn.js":"a3d2","./ms":"f45d","./ms.js":"f45d","./nb_NO":"bfd4","./nb_NO.js":"bfd4","./nl":"7ab1","./nl.js":"7ab1","./pl":"8ef3","./pl.js":"8ef3","./pt":"61d8","./pt.js":"61d8","./pt_BR":"1911","./pt_BR.js":"1911","./ro":"937f","./ro.js":"937f","./ru":"7f57","./ru.js":"7f57","./se":"c47d","./se.js":"c47d","./sl":"7f0b","./sl.js":"7f0b","./sq":"f373","./sq.js":"f373","./sr":"6f79","./sr.js":"6f79","./sv":"0c56","./sv.js":"0c56","./tr":"4bda","./tr.js":"4bda","./ua":"626a","./ua.js":"626a","./uk":"0874","./uk.js":"0874","./vi":"ee20","./vi.js":"ee20","./zh":"0ede","./zh.js":"0ede","./zh_TW":"4690","./zh_TW.js":"4690"};function s(t){var e=n(t);return r(e)}function n(t){if(!r.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id="285b"},"56d7":function(t,e,r){"use strict";r.r(e);r("45fc"),r("96cf");var i,s=r("1da1"),n=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("2b0e")),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("nav",[r("ul",[r("li",t._l(t.links,(function(e){return r("router-link",{key:e,attrs:{to:t.paths[e],exact:"","data-test":e+"-link"}},[t._v(t._s(e))])})),1)])]),r("div",{staticClass:"content"},[r("router-view",{attrs:{trips:t.trips,triplists:t.triplists,triplistitems:t.triplistitems,tripdays:t.tripdays},on:{"update-trips":function(e){return t.updateTrips()},"update-trip-lists":function(e){return t.updateTripLists()},"update-trip-list-items":function(e){return t.updateTripListItems()},"update-trip-days":function(e){return t.updateTripDays()}}})],1)])},o=[],p=r("bc3a").create({baseURL:null!==(i="https://e28-api.gabrielajohnson.me")&&void 0!==i?i:"http://e28-api.gabrielajohnson.loc",responseType:"json",withCredentials:!0}),u={name:"App",data:function(){return{triplists:[],triplistitems:[],tripdays:[],links:["trips","add a trip","account","register"],paths:{trips:"/","add a trip":"/trips/new",account:"/account",register:"/register"}}},methods:{updateTripLists:function(){var t=this;p.get("triplist").then((function(e){t.triplists=e.data.triplist}))},updateTripListItems:function(){var t=this;p.get("triplistitem").then((function(e){t.triplistitems=e.data.triplistitem}))},updateTripDays:function(){var t=this;p.get("tripday").then((function(e){t.tripdays=e.data.tripday}))}},mounted:function(){this.$store.dispatch("fetchTrips"),this.updateTripLists(),this.updateTripListItems(),this.updateTripDays()},computed:{trips:function(){return this.$store.state.trips}}},d=u,l=(r("5c0b"),r("2877")),c=Object(l["a"])(d,a,o,!1,null,null,null),m=c.exports,f=r("8c4f"),v=(r("4de4"),r("d3b7"),r("2f62"));n["a"].use(v["a"]);var h=new v["a"].Store({state:{trips:[],user:null},mutations:{setTrips:function(t,e){t.trips=e},setUser:function(t,e){t.user=e}},actions:{fetchTrips:function(t){p.get("trip").then((function(e){t.commit("setTrips",e.data.trip)}))},authUser:function(t){return new Promise((function(e){p.post("auth").then((function(r){r.data.authenticated?t.commit("setUser",r.data.user):t.commit("setUser",!1),e()}))}))}},getters:{getTripById:function(t){return function(e){return t.trips.filter((function(t){return t.id==e}),this.id)[0]}}}}),g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"trips"}},[r("h1",[t._v("Trips")]),t._l(t.trips,(function(e){return r("router-link",{key:e.id,attrs:{to:"/trips/"+e.id,exact:""}},[r("show-trip",{attrs:{trip:e,trips:t.trips,triplists:t.triplists,triplistitems:t.triplistitems,tripdays:t.tripdays}})],1)})),0==t.trips.length?r("div",[r("p",[t._v("No Trips Have Been Created")])]):t._e()],2)},b=[],_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{width:"100%"}},[r("h3",{staticClass:"text-align-center trip-name",attrs:{"data-test":"trip-name"}},[t._v(t._s(t.trip.name))]),t.includeDetails?r("div",[r("label",{attrs:{for:"name"}},[t._v("Description")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.description,expression:"trip.description"}],attrs:{type:"text","data-test":"trip-description-input",id:"description",max:"100"},domProps:{value:t.trip.description},on:{keyup:t.editTrip,blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.trip,"description",e.target.value)}}}),t.errors&&"description"in t.errors?r("error-field",{attrs:{errors:t.errors.description}}):t._e(),r("label",{attrs:{for:"name"}},[t._v("Origin")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.origin,expression:"trip.origin"}],attrs:{type:"text","data-test":"trip-origin",id:"origin",max:"100"},domProps:{value:t.trip.origin},on:{keyup:t.editTrip,blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.trip,"origin",e.target.value)}}}),r("label",{attrs:{for:"name"}},[t._v("Destination")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.destination,expression:"trip.destination"}],attrs:{type:"text",id:"destination",max:"100"},domProps:{value:t.trip.destination},on:{keyup:t.editTrip,blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.trip,"destination",e.target.value)}}}),r("label",{attrs:{for:"name"}},[t._v("Departure Details")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.departing_travel,expression:"trip.departing_travel"}],attrs:{type:"text",id:"departing_travel",max:"100"},domProps:{value:t.trip.departing_travel},on:{keyup:t.editTrip,blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.trip,"departing_travel",e.target.value)}}}),r("label",{attrs:{for:"name"}},[t._v("Returning Travel Details")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.returning_travel,expression:"trip.returning_travel"}],attrs:{type:"text",id:"returning_travel",max:"100"},domProps:{value:t.trip.returning_travel},on:{keyup:t.editTrip,blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.trip,"returning_travel",e.target.value)}}}),r("label",{attrs:{for:"name"}},[t._v("Budget")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.budget,expression:"trip.budget"}],attrs:{type:"text","data-test":"trip-budget",id:"budget",max:"100"},domProps:{value:t.trip.budget},on:{keyup:t.editTrip,blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.trip,"budget",e.target.value)}}}),t.errors&&"budget"in t.errors?r("error-field",{attrs:{errors:t.errors.budget}}):t._e(),r("label",{attrs:{for:"name"}},[t._v("Hotel")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.hotel,expression:"trip.hotel"}],attrs:{type:"text",id:"hotel",max:"100"},domProps:{value:t.trip.hotel},on:{keyup:t.editTrip,blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.trip,"hotel",e.target.value)}}}),r("h3",{staticClass:"text-align-center"},[t._v("Trip Schedule")]),r("div",{staticClass:"calendar"},t._l(t.currentTripDays,(function(e,i){return r("div",{key:i,staticClass:"trip-day",attrs:{value:i}},[r("trip-day",{attrs:{trip:t.trip,i:e},on:{"update-trip-days":function(e){return t.updateTripDays()}}})],1)})),0),r("button",{staticClass:"btn",attrs:{"data-test":"trip-add-day"},on:{click:t.addDay}},[t._v("Add Date")]),t.errors?r("div",{staticClass:"form-feedback-error"},[t._v("Please correct the above errors")]):t._e(),r("show-trip-list",{attrs:{trip:t.trip,triplists:t.triplists,triplistitems:t.triplistitems},on:{"update-trip-lists":function(e){return t.updateTripLists()},"update-trip-list-items":function(e){return t.updateTripListItems()}}}),r("button",{on:{click:function(e){return t.deleteTrip(t.trip.id)}}},[t._v("Delete Trip")])],1):t._e()])},y=[],w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.i.date,expression:"i.date"}],attrs:{type:"text",placeholder:"Date",id:"date",max:"100","data-test":"trip-day-date"},domProps:{value:t.i.date},on:{keyup:function(e){return t.editDay(t.i)},input:function(e){e.target.composing||t.$set(t.i,"date",e.target.value)}}}),t.errors&&"date"in t.errors?r("error-field",{attrs:{errors:t.errors.date}}):t._e(),r("input",{directives:[{name:"model",rawName:"v-model",value:t.i.description,expression:"i.description"}],attrs:{type:"text",placeholder:"Description",id:"description",max:"100","data-test":"trip-day-description"},domProps:{value:t.i.description},on:{keyup:function(e){return t.editDay(t.i)},input:function(e){e.target.composing||t.$set(t.i,"description",e.target.value)}}}),t.errors&&"description"in t.errors?r("error-field",{attrs:{errors:t.errors.description}}):t._e(),r("button",{staticClass:"small-btn delete",on:{click:function(e){return t.deleteDay(t.i)}}},[t._v("Delete")]),t.errors?r("div",{staticClass:"form-feedback-error"},[t._v("Please correct the above errors")]):t._e()],1)},x=[],j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",t._l(t.errors,(function(e,i){return r("li",{key:i,staticClass:"form-feedback-error"},[t._v(t._s(e))])})),0)},T=[],$={props:["errors"]},k=$,D=Object(l["a"])(k,j,T,!1,null,null,null),C=D.exports,L=r("1c4a"),P=r.n(L),N={name:"trip-day",components:{"error-field":C},props:["trip","includeDetails","tripdays","i"],data:function(){return{errors:null,tripday:{date:"",description:"",trip_id:this.trip.id}}},methods:{validate:function(){var t=new P.a(this.tripday,{date:"between:1,100",description:"between:3,100"});return this.errors=t.errors.all(),t.passes()},editDay:function(t){var e=this;p.put("/tripday/"+t.id,t).then((function(t){t.data.errors?e.errors=t.data.errors:e.$emit("update-trips-days")}))},deleteDay:function(t){var e=this;p.delete("/tripday/"+t.id).then((function(t){t.data.errors?e.errors=t.data.errors:e.$emit("update-trip-days")}))}}},O=N,I=Object(l["a"])(O,w,x,!1,null,null,null),U=I.exports,E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h3",{staticClass:"text-align-center"},[t._v("Lists")]),r("div",{staticClass:"add-list-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.triplist.name,expression:"triplist.name"}],attrs:{type:"text",id:"name",max:"100",placeholder:"Enter new list name","data-test":"trip-list-name-input"},domProps:{value:t.triplist.name},on:{blur:function(e){return t.validateList()},input:function(e){e.target.composing||t.$set(t.triplist,"name",e.target.value)}}}),r("button",{staticClass:"btn add-list",attrs:{"data-test":"trip-add-list"},on:{click:t.addList}},[t._v("Add List")])]),r("div",{staticClass:"trip-lists"},t._l(t.currentTripListItems,(function(e,i){return r("div",{key:i,staticClass:"trip-list"},[r("div",{staticClass:"trip-heading"},[r("p",{attrs:{"data-test":"trip-list-header"}},[t._v(t._s(e.name))]),r("button",{staticClass:"small-btn",on:{click:function(r){return t.deleteList(e.id)}}},[t._v("Delete List")])]),r("ul",t._l(t.currentTripListItems[i].items,(function(e,i){return r("li",{key:i},[r("p",{attrs:{"data-test":"trip-list-item"}},[t._v(t._s(e.name))]),r("button",{staticClass:"small-btn",on:{click:function(r){return t.deleteListItem(e.id)}}},[t._v("X")])])})),0),r("div",{staticClass:"add-new-item"},[r("input",{key:e.id,attrs:{type:"text",max:"100",id:t.nameId(e.id),placeholder:"Add a new list item","data-test":"add-new-list-item-input"}}),r("button",{staticClass:"small-btn",attrs:{"data-test":"add-new-list-item"},on:{click:function(r){return t.addListItem(e.id)},blur:function(e){return t.validateListItem()}}},[t._v("+")])])])})),0),t.errors&&"name"in t.errors?r("error-field",{attrs:{errors:t.errors.name}}):t._e()],1)},M=[],q=(r("b0c0"),{name:"show-trip-list",components:{"error-field":C},props:["id","trip","triplists","triplistitems","tripdays"],data:function(){return{errors:null,triplist:{name:"",trip_id:this.trip.id},showConfirmationMessage:!1,triplistitem:{name:"",trip_id:this.trip.id,triplist_id:""}}},methods:{validateList:function(){var t=new P.a(this.triplist,{name:"required|between:1,100"});return this.errors=t.errors.all(),t.passes()},validateListItem:function(){var t=new P.a(this.triplistitem,{name:"required|between:1,100"});return this.errors=t.errors.all(),t.passes()},addList:function(){var t=this;p.post("/triplist",this.triplist).then((function(e){e.data.errors?t.errors=e.data.errors:t.$emit("update-trip-lists")})),this.triplist.name=""},deleteList:function(t){var e=this;for(var r in p.delete("/triplist/"+t).then((function(t){t.data.errors?e.errors=t.data.errors:e.$emit("update-trip-lists")})),this.triplistitems)r.trip_id==t&&this.deleteListItem(r.id);this.$emit("update-trip-list-items")},addListItem:function(t){var e=this,r="name"+t;this.triplistitem.name=document.getElementById(r).value,this.triplistitem.triplist_id=t,p.post("/triplistitem",this.triplistitem).then((function(t){t.data.errors?e.errors=t.data.errors:(e.$emit("update-trip-list-items"),document.getElementById(r).value="")}))},deleteListItem:function(t){var e=this;p.delete("/triplistitem/"+t).then((function(t){t.data.errors?e.errors=t.data.errors:e.$emit("update-trip-list-items")}))},nameId:function(t){return"name"+t}},computed:{currentTripListItems:function(){function t(t){return t.trip_id==this.trip.id}var e=this.triplists.filter(t,this),r=[];function i(t){return t.trip_id==this.trip.id}var s=this.triplistitems.filter(i,this);for(var n in e)for(var a in r.push({name:e[n].name,id:e[n].id,trip_id:e[n].trip_id,items:[]}),s)s[a].triplist_id==e[n].id&&r[r.length-1].items.push(s[a]);return r},tripNotFound:function(){return null==this.trip}}}),A=q,B=Object(l["a"])(A,E,M,!1,null,null,null),R=B.exports,F={name:"show-trip",props:["trip","trips","includeDetails","tripdays","triplists","triplistitems"],data:function(){return{errors:null,showConfirmationMessage:!1,tripday:{date:"",description:"",trip_id:this.trip.id}}},components:{"error-field":C,"trip-day":U,"show-trip-list":R},methods:{validate:function(){var t=new P.a(this.trip,{name:"required|between:1,100",description:"between:3,100",budget:"numeric"});return this.errors=t.errors.all(),t.passes()},editTrip:function(){var t=this;p.put("/trip/"+this.trip.id,this.trip).then((function(e){e.data.errors?(t.errors=e.data.errors,t.showConfirmationMessage=!1):(t.$emit("update-trips"),t.showConfirmationMessage=!0)}))},deleteTrip:function(t){var e=this;p.delete("/trip/"+t).then((function(t){t.data.errors?e.errors=t.data.errors:e.$store.dispatch("fetchTrips")}))},addDay:function(){var t=this;p.post("/tripday",this.tripday).then((function(e){e.data.errors?t.errors=e.data.errors:t.$emit("update-trip-days")}))},updateTrips:function(){this.$emit("update-trips")},updateTripDays:function(){this.$emit("update-trip-days")},updateTripLists:function(){var t=this;p.get("triplist").then((function(e){t.triplists=e.data.triplist}))},updateTripListItems:function(){var t=this;p.get("triplistitem").then((function(e){t.triplistitems=e.data.triplistitem}))}},computed:{currentTripDays:function(){function t(t){return t.trip_id==this.trip.id}return this.tripdays.filter(t,this)},tripNotFound:function(){return null==this.trip}}},S=F,z=Object(l["a"])(S,_,y,!1,null,null,null),H=z.exports,J={name:"",components:{"show-trip":H},props:["triplists","triplistitems","tripdays"],data:function(){return{trips:[]}},computed:{user:function(){return this.$store.state.user}},methods:{deleteTrip:function(t){var e=this;p.delete("/trip/"+t).then((function(t){t.data.errors?e.errors=t.data.errors:(e.$store.dispatch("fetchTrips"),e.$router.push({path:"/"}))}))},loadTrips:function(){var t=this;this.user&&p.get("trip").then((function(e){t.trips=e.data.trip}))}},watch:{user:function(){this.loadTrips()}},mounted:function(){this.loadTrips()}},W=J,X=Object(l["a"])(W,g,b,!1,null,"2e51fce6",null),G=X.exports,K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",[t._v("Add a Trip")]),r("div",{attrs:{id:"inputs"}},[r("label",{attrs:{for:"name"}},[t._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.name,expression:"trip.name"}],attrs:{type:"text","data-test":"trip-name-input",id:"name",min:"2",max:"100",required:""},domProps:{value:t.trip.name},on:{blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.trip,"name",e.target.value)}}}),r("small",{staticClass:"form-help"},[t._v("Min: 2, Max: 100")]),t.errors&&"name"in t.errors?r("error-field",{attrs:{errors:t.errors.name}}):t._e(),r("label",{attrs:{for:"name"}},[t._v("Description")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.description,expression:"trip.description"}],attrs:{type:"text","data-test":"trip-description-input",id:"description",max:"100"},domProps:{value:t.trip.description},on:{blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.trip,"description",e.target.value)}}}),t.errors&&"description"in t.errors?r("error-field",{attrs:{errors:t.errors.description}}):t._e(),r("label",{attrs:{for:"name"}},[t._v("Origin")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.origin,expression:"trip.origin"}],attrs:{type:"text","data-test":"trip-origin-input",id:"origin",max:"100"},domProps:{value:t.trip.origin},on:{blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.trip,"origin",e.target.value)}}}),r("label",{attrs:{for:"name"}},[t._v("Destination")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.destination,expression:"trip.destination"}],attrs:{type:"text","data-test":"trip-destination-input",id:"destination",max:"100"},domProps:{value:t.trip.destination},on:{blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.trip,"destination",e.target.value)}}}),r("label",{attrs:{for:"name"}},[t._v("Departure Details")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.departing_travel,expression:"trip.departing_travel"}],attrs:{type:"text","data-test":"trip-departing-travel-input",id:"departing_travel",max:"100"},domProps:{value:t.trip.departing_travel},on:{blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.trip,"departing_travel",e.target.value)}}}),t.errors&&"departure_travel"in t.errors?r("error-field",{attrs:{errors:t.errors.departure_travel}}):t._e(),r("label",{attrs:{for:"name"}},[t._v("Returning Travel Details")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.returning_travel,expression:"trip.returning_travel"}],attrs:{type:"text","data-test":"trip-returning-travel-input",id:"returning_travel",max:"100"},domProps:{value:t.trip.returning_travel},on:{blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.trip,"returning_travel",e.target.value)}}}),r("label",{attrs:{for:"name"}},[t._v("Budget")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.budget,expression:"trip.budget"}],attrs:{type:"text","data-test":"trip-budget-input",id:"budget",max:"100"},domProps:{value:t.trip.budget},on:{blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.trip,"budget",e.target.value)}}}),t.errors&&"budget"in t.errors?r("error-field",{attrs:{errors:t.errors.budget}}):t._e(),r("label",{attrs:{for:"name"}},[t._v("Hotel")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.hotel,expression:"trip.hotel"}],attrs:{type:"text","data-test":"trip-hotel-input",id:"hotel",max:"100"},domProps:{value:t.trip.hotel},on:{blur:function(e){return t.validate()},input:function(e){e.target.composing||t.$set(t.trip,"hotel",e.target.value)}}})],1),r("button",{attrs:{"data-test":"add-trip-button"},on:{click:t.addTrip}},[t._v("Add Trip")]),r("transition",{attrs:{name:"fade"}},[t.showConfirmationMessage?r("div",{staticClass:"alert",attrs:{"data-test":"trip-added-confirmation"}},[t._v(" Trip was added! ")]):t._e()]),t.errors?r("div",{staticClass:"form-feedback-error"},[t._v("Please correct the above errors")]):t._e()],1)},Q=[],V={components:{"error-field":C},props:["trips"],data:function(){return{errors:null,showConfirmationMessage:!1,trip:{}}},methods:{validate:function(){var t=new P.a(this.trip,{name:"required|between:1,100",description:"between:3,100",budget:"numeric"});return this.errors=t.errors.all(),t.passes()},addTrip:function(){var t=this;p.post("/trip",this.trip).then((function(e){if(e.data.errors)t.errors=e.data.errors;else for(var r in t.$store.dispatch("fetchTrips"),t.showConfirmationMessage=!0,setTimeout((function(){return t.showConfirmationMessage=!1}),3e3),t.trip)t.trip[r]=""}))}}},Y=V,Z=(r("0d1a"),Object(l["a"])(Y,K,Q,!1,null,"077d4ab8",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"trip-page"}},[t.trip?r("div",[r("show-trip",{attrs:{trip:t.trip,includeDetails:!0,triplists:t.triplists,triplistitems:t.triplistitems,tripdays:t.tripdays},on:{"update-trip-days":function(e){return t.updateTripDays()}}})],1):t._e(),t.tripNotFound?r("div",[r("p",[t._v("trip "+t._s(t.id)+" not found.")])]):t._e()])},rt=[],it={name:"",props:["id","triplists","triplistitems","tripdays"],components:{"show-trip":H},data:function(){return{}},methods:{updateTripDays:function(){this.$emit("update-trip-days")}},computed:{trip:function(){return this.$store.getters.getTripById(this.id)},trips:function(){return this.$store.state.trips},triplist:function(){var t=this;return this.triplists.filter((function(e){return e.trip_id==t.trip.id}),this.trip.id)[0]},tripday:function(){var t=this;return this.tripdays.filter((function(e){return e.trip_id==t.trip.id}),this.trip.id)[0]},triplistitem:function(){var t=this;return this.triplistitem.filter((function(e){return e.trip_id==t.trip.id}),this.trip.id)[0]},tripNotFound:function(){return null==this.trip},user:function(){return this.$store.state.user}}},st=it,nt=Object(l["a"])(st,et,rt,!1,null,null,null),at=nt.exports,ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"account-page"}},[t.user?r("div",[r("h2",{attrs:{"data-test":"welcome-message"}},[t._v("Hi, "+t._s(t.user.name)+"!")]),r("button",{attrs:{"data-test":"logout-button"},on:{click:t.logout}},[t._v("Logout")])]):r("div",{attrs:{id:"loginForm"}},[r("h2",[t._v("Login")]),r("small",[t._v("(Form is prefilled for demonstration purposes; remove in final application)")]),r("div",[r("label",[t._v("Email: "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.data.email,expression:"data.email"}],attrs:{type:"text","data-test":"email-input"},domProps:{value:t.data.email},on:{input:function(e){e.target.composing||t.$set(t.data,"email",e.target.value)}}})])]),r("div",[r("label",[t._v("Password: "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],attrs:{type:"password","data-test":"password-input"},domProps:{value:t.data.password},on:{input:function(e){e.target.composing||t.$set(t.data,"password",e.target.value)}}})])]),r("button",{attrs:{"data-test":"login-button"},on:{click:t.login}},[t._v("Login")]),t.errors?r("ul",t._l(t.errors,(function(e,i){return r("li",{key:i,staticClass:"error"},[t._v(" "+t._s(e)+" ")])})),0):t._e()])])},pt=[],ut={data:function(){return{data:{email:"jill@harvard.edu",password:"asdfasdf"},errors:null}},computed:{user:function(){return this.$store.state.user},trips:function(){return this.$store.state.trips}},methods:{login:function(){var t=this;p.post("login",this.data).then((function(e){e.data.authenticated?t.$store.commit("setUser",e.data.user):t.errors=e.data.errors}))},logout:function(){var t=this;p.post("logout").then((function(e){e.data.success&&t.$store.commit("setUser",null)}))}}},dt=ut,lt=Object(l["a"])(dt,ot,pt,!1,null,null,null),ct=lt.exports,mt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ft=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("Access Denied")])])}],vt={},ht=Object(l["a"])(vt,mt,ft,!1,null,null,null),gt=ht.exports,bt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"account-page"}},[r("div",{attrs:{id:"registerForm"}},[r("h2",[t._v("Register")]),r("div",[r("label",[t._v("Name: "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.name,expression:"newUser.name"}],attrs:{type:"text","data-test":"name-input"},domProps:{value:t.newUser.name},on:{input:function(e){e.target.composing||t.$set(t.newUser,"name",e.target.value)}}})])]),r("div",[r("label",[t._v("Email: "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],attrs:{type:"text","data-test":"email-input"},domProps:{value:t.newUser.email},on:{input:function(e){e.target.composing||t.$set(t.newUser,"email",e.target.value)}}})])]),r("div",[r("label",[t._v("Password: "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],attrs:{type:"password","data-test":"password-input"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}})])]),r("button",{attrs:{"data-test":"register-button"},on:{click:t.register}},[t._v("Register")]),t.errors?r("ul",t._l(t.errors,(function(e,i){return r("li",{key:i,staticClass:"error"},[t._v(" "+t._s(e)+" ")])})),0):t._e()])])},_t=[],yt={data:function(){return{errors:null,newUser:{name:"",email:"",password:""}}},computed:{user:function(){return this.$store.state.user}},methods:{register:function(){p.post("register",this.newUser).then((function(t){t&&console.log(t)}))}}},wt=yt,xt=Object(l["a"])(wt,bt,_t,!1,null,null,null),jt=xt.exports;n["a"].config.productionTip=!1,n["a"].use(f["a"]);var Tt=new f["a"]({mode:"history",routes:[{path:"/",component:G,meta:{requiresAuth:!0}},{path:"/trips/new",component:tt,meta:{requiresAuth:!0}},{path:"/trips/:id",component:at,props:!0},{path:"/account",component:ct},{path:"/denied",component:gt},{path:"/register",component:jt,meta:{disableIfLoggedIn:!0}}]});Tt.beforeEach(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,r,i){var s,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=e.matched.some((function(t){return t.meta.requiresAuth})),n=e.matched.some((function(t){return t.meta.disableIfLoggedIn})),a=function(){s&&!h.state.user||n&&h.state.user?i("/denied"):i()},null===h.state.user?h.dispatch("authUser").then((function(){a()})):a();case 4:case"end":return t.stop()}}),t)})));return function(e,r,i){return t.apply(this,arguments)}}()),new n["a"]({store:h,router:Tt,render:function(t){return t(m)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";r("9c0c")},"9c0c":function(t,e,r){},b779:function(t,e,r){}});
//# sourceMappingURL=app.707a4a4b.js.map